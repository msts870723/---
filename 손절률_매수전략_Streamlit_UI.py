
import streamlit as st
import pandas as pd

# ë°ì´í„° ì •ì˜
data = {
    'ì†ì ˆë¥ (%)': list(range(3, 26)),
    'ë§¤ìˆ˜ë¹„ì¤‘(%)': [
        100, 75, 60, 50, 43, 38, 33, 30, 27, 25,
        23, 21, 20, 19, 18, 17, 16, 15, 14, 14,
        13, 13, 12
    ],
    'ë§¤ìˆ˜ê¸ˆì•¡': [
        2000000, 1500000, 1200000, 1000000, 857143, 750000,
        666667, 600000, 545455, 500000, 461538, 428571, 400000,
        375000, 352941, 333333, 315789, 300000, 285714, 272727,
        260870, 250000, 240000
    ]
}
df = pd.DataFrame(data)

# ì•± íƒ€ì´í‹€
st.markdown("<h1 style='text-align: center;'>ğŸ“ˆ ì†ì ˆë¥  ê³„ì‚°ê¸°</h1>", unsafe_allow_html=True)

# ì…ë ¥ UI
col1, col2 = st.columns(2)
with col1:
    í˜„ì¬ê°€ = st.number_input("í˜„ì¬ê°€", min_value=1, value=112900, step=100)
with col2:
    ì†ì ˆê°€ = st.number_input("ì†ì ˆê°€", min_value=1, value=107600, step=100)

# ê³„ì‚° ë²„íŠ¼
if st.button("ğŸ” ì†ì ˆë¥  ê³„ì‚° ë° ë§¤ìˆ˜ ì „ëµ í™•ì¸"):
    if ì†ì ˆê°€ >= í˜„ì¬ê°€:
        st.error("âš ï¸ ì†ì ˆê°€ëŠ” í˜„ì¬ê°€ë³´ë‹¤ ì‘ì•„ì•¼ í•©ë‹ˆë‹¤.")
    else:
        ì†ì ˆë¥  = round((í˜„ì¬ê°€ - ì†ì ˆê°€) / í˜„ì¬ê°€ * 100, 2)
        st.success(f"ğŸ“‰ ê³„ì‚°ëœ ì†ì ˆë¥ : **{ì†ì ˆë¥ }%**")

        ì¶”ì²œ = df[df["ì†ì ˆë¥ (%)"] == round(ì†ì ˆë¥ )]
        if not ì¶”ì²œ.empty:
            st.markdown("### ğŸ’¡ ì¶”ì²œ ë§¤ìˆ˜ ì „ëµ")
            st.dataframe(ì¶”ì²œ)
        else:
            st.warning("í•´ë‹¹ ì†ì ˆë¥ ì— ë§ëŠ” ì „ëµì´ ì—†ìŠµë‹ˆë‹¤.")

# ì „ì²´ í…Œì´ë¸” ë³´ê¸° (ì„ íƒ)
with st.expander("ğŸ“‹ ì „ì²´ ì „ëµí‘œ ë³´ê¸°"):
    st.dataframe(df)
